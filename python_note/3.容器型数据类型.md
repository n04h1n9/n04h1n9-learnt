# 容器型数据类型

python中的容器型数据类型有列表、元组、字符串、集合和字典，它们的区别为：是否可变（能往里面加减数据，不可变的类型性能更好），是否有序等

## 列表(list)

- 特点：有序、可重复、可变

- 表示（列表变量一般用复数):[x, x, x, x]

- 创建

  - 字面量：`items = [x, x, x, x]`

  - 构造器：`items = list(range(11,45))`（将其他序列变成列表）

  - 生成式：`items = [i for i in ......]`（生成式性能好）

- 运算

```python
items1 = [1, 1, 4, 5]
items2 = [i for i in range(23, 26)]
items1 + items2 #拼接运算，输出[1, 1, 4, 5, 23, 24, 25]
items1 * 2 #重复运算，输出[1, 1, 4, 5, 1, 1, 4, 5]
3 in items1 or 3 not in items1#成员运算,用于判断某元素是否在某列表，输出布尔值
items1[1] #索引运算，查找某个位置的元素，以0开始，以len(items1) - 1结束（列表长度减一）,如果索引值（方括号里面的数字）为负，从后往前数，以-1开始，-len(items1)结束
items2[0: 2] #切片运算，位置规则与索引一样,截取两位置中间的元素
items1 == items2
items1 != items2
items1 >= items2
items1 <= items2 #关系运算，输出布尔值，比较的是首个元素
```

- 遍历（逐个取出容器里的元素）

```python
for i in range(len(items1)):
    print(items1[i])
#或
for item in items1:
    print(items1)
```

- 方法（用于对变量进行增删改查等操作）,所有容器型数据类型方法见[python字典](/python_note/python%E5%AD%97%E5%85%B8/3.%E5%AE%B9%E5%99%A8%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95.md)

- del关键字

```python
items4 = [i for i in range(10)]
del items4[4] #删除索引位置为三的元素
```

- 嵌套列表

`items5 = [items1, items2, items3, items4]`

## 元组(tuple)

- 特点：除不可变外跟列表一样，有几个元素就叫几元组

- 创建：同列表

> ()表示空元组，单元组要在元素后面加逗号，如`items6 = ("a", )`

- 运算：同列表，但由于元组不可变，所以无del关键字

- 打包和解包

```python
a = 11, 45, 14 #a = (11, 45, 14)
x, y, z = a #x = 11, y = 45, z = 14
b = 11, 4, 5, 14
i, *j, k = b #i = 11, j = [4, 5], k = 14
#上面是星号表达式，哪个变量有*就把变量堆起来分给那个变量
```

> tip:解包语法对什么序列都适用，包括range函数

- 方法见python字典

- 交换变量的值

```python
a, b = b, a
a, b, c = c, a, b
```

## 字符串(str)

- 特点：有序、字符组成（unicode字符）、不可变

- 表示：单行用单引号或双引号，多行用三个引号（单引号或双引号）

- 创建:
  - 字面量：`a = 'hyw'`

  - 构造器：`a = str(114)`

- 转义字符：`\`是python的转义字符，`\`后的字符不再是其原本的含义

  - 跟一般字符，不参与字符串

    - `\t`制表符

    - `\n`换行符,print里面的是棍母时，输出换行符

    - `\r`回车符，让输出回到行首

    - `\u`后接unicode字符编码

    - `\x`后接八进制或十六进制编码，与上面那个都表示字符

  - 跟特殊字符，参与字符串。如\后跟\或引号时，后者参与字符串

- 运算同列表，len函数也可以获取字符串长度,比较运算比较的是编码大小

- 遍历同列表

- 方法见python字典

- 字符串格式化操作见python字典

## 集合(set)

- 特点：确定性（集合能成员运算且性能优于列表）、互异性、无序性（不可索引）、可变性

- 表示：{1, 4, 5}

> tip:花括号内至少有一个元素才叫集合，{}不是空集，而是空字典，空集是set()

- 创建同列表

> tip:集合的元素要是不可变类型，而集合本身可变，所以集合不能嵌套

- 遍历：由于集合不能索引，所以遍历只能用

```python
set = {i for i in range(11, 45)}
for i in set:
    print(i)
```

- 运算

  - 成员运算同列表，但效率更高

  - 二元运算
  
    - 交集

    ```python
    a & b 
    #或
    a.intersection(b)
    ```

    - 并集

    ```python
    a | b
    #或
    a.union(b)
    ```

    - 差集

    ```python
    a - b
    #或
    a.difference(b)
    ```

    - 对称差(只要两集合不同部分)

    ```python
    a ^ b
    #或
    a.symmetric_differnce(b)
    ```

> tip:集合二元运算可以跟赋值运算构成复合赋值运算，类似于`+=`,除|= == update外，其他运算对应方法只需在后面加`-update`

- 比较运算（输出布尔值）

  - 子集运算

  ```python
  a <= b
  #或
  a.issubset(b)
  ```

  - 超集运算

  ```python
  a >= b
  #或
  a.issuperset(b)
  ```

  - 相等运算`a == b`

- 不可变集合(frozenset)可以作为集合元素，不能增删元素，可以运算

- 方法见python字典

## 字典(dict)

- 特点：键值对，键可变，值随便，本身可变

- 表示：`{键: 值}`

- 创建

  - 字面量

  ```python
  hyw = {'h': 'he', 'y': 'yi', 'w': 'wei'}
  ```

  - 构造器

  ```python
  hyw = dict('h': 'he', 'y': 'yi', 'w': 'wei')
  ```

  - 生成式

```python
items = {i: i ** 3 for i in range(1, 6)}
```

- 遍历

> tips:

1. 想知道字典有多少对键值对，用len函数
2. for循环只是对键遍历
3. 字典的索引运算字典[键]可输出对应的值

所以字典的索引运算为：

```python
for key in hyw:
    print(f'{key}: {hyw[key]})
```

- 运算

  - 索引见上，可以用索引运算新增键值对

  - 成员运算只能判断键是否在字典里

- 方法见python字典

- 由于字典跟列表一样，既能使用索引运算，也能删除元素，所以字典也能用del关键字，用法为`del dict(key)`
